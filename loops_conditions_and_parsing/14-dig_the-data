#!/usr/bin/env bash
# Group Apache log entries by IP and HTTP status code

awk '{
    # Extract IP (field 1) and HTTP status code (field 9)
    ip = $1
    status = $9
    
    # Create a key combining IP and status
    key = ip " " status
    
    # Count occurrences
    count[key]++
} 
END {
    # Print all counts with IP and status
    for (key in count) {
        print count[key], key
    }
}' apache-access.log | sort -rn
